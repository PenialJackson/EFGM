MAPINFO = {}

MAPINFO.efgm_belmont = util.JSONToTable([[{"locations":[],"keys":[{"name":"Parking Garage Break Room Key","pos":{"y":0.8746881439393066,"x":0.6887533189089641}},{"name":"Kitchen Key","pos":{"y":0.6607557760506297,"x":0.8302853769518583}},{"name":"Fenced Off Area Key","pos":{"y":0.7907121179340988,"x":0.5415074284281853}},{"name":"Parking Marked Room Key","pos":{"y":0.9404923085794531,"x":0.6204996932847281}},{"name":"Classroom Key","pos":{"y":0.301173186008658,"x":0.15835704616439011}}],"offset":{"y":0.56273785717242,"x":0.59886510847541},"factor":{"y":-0.00013766561640198,"x":0.000069788983255865},"spawns":[{"type":0,"pos":{"y":0.7675842943785662,"x":0.5564334066558441},"group":"South"},{"type":0,"pos":{"y":0.4746318626751528,"x":0.023803886447082423},"group":"South"},{"type":0,"pos":{"y":1.0473208269073897,"x":0.7370472953220226},"group":"North"},{"type":0,"pos":{"y":0.8226505409393582,"x":0.8260980379565064},"group":"North"},{"type":0,"pos":{"y":0.5233654908814537,"x":0.4933441657925421},"group":"South"},{"type":0,"pos":{"y":0.40638275534331636,"x":0.5854408488993987},"group":"North"},{"type":0,"pos":{"y":0.30507186887101273,"x":0.13211638846018486},"group":"South"},{"type":0,"pos":{"y":0.8041166183309643,"x":0.37839332751374527},"group":"South"},{"type":0,"pos":{"y":0.39093116790274896,"x":0.21251329717094136},"group":"South"},{"type":0,"pos":{"y":0.32485167202979853,"x":0.47603649794508757},"group":"North"},{"type":0,"pos":{"y":0.7851352824692639,"x":0.5607249392742075},"group":"North"},{"type":0,"pos":{"y":0.5583325574475566,"x":0.7953908853239258},"group":"North"},{"type":0,"pos":{"y":0.183882080834171,"x":0.8869540313556207},"group":"North"},{"type":0,"pos":{"y":0.33806757120438863,"x":0.6591627900084773},"group":"North"},{"type":0,"pos":{"y":0.8164046525953959,"x":0.4012227078948003},"group":"South"},{"type":0,"pos":{"y":0.7059100982304791,"x":0.6134768275589239},"group":"North"},{"type":0,"pos":{"y":0.27675541949474936,"x":0.864063244847697},"group":"North"},{"type":0,"pos":{"y":0.3782659311937668,"x":0.9405519704961249},"group":"North"},{"type":0,"pos":{"y":0.7375731900029345,"x":0.06456065266850752},"group":"South"},{"type":0,"pos":{"y":0.5632885196380278,"x":0.34427489755801444},"group":"South"},{"type":2,"pos":{"y":0.9944572302090293,"x":0.6104236298245745},"group":"South"},{"type":2,"pos":{"y":0.6993021486431841,"x":0.7247085996747206},"group":"North"},{"type":2,"pos":{"y":0.42645344265580215,"x":0.27817075898739835},"group":"South"},{"type":2,"pos":{"y":0.2998006638463026,"x":0.4959124037840231},"group":"North"},{"type":2,"pos":{"y":0.752084527333235,"x":0.6725190059647512},"group":"North"},{"type":2,"pos":{"y":0.9327830340609422,"x":0.5296344370855919},"group":"South"},{"type":2,"pos":{"y":0.09365467128766636,"x":0.6150994214196228},"group":"North"},{"type":2,"pos":{"y":0.7312405716484435,"x":0.5117684573720904},"group":"South"}],"extracts":[{"accessibility":1,"pos":{"y":0.8975406362620353,"x":0.46263701315996153},"name":"Hermetic Door","group":""},{"accessibility":0,"pos":{"y":0.7576723699976237,"x":0.36660737219989126},"name":"Parked Trailer","group":"North"},{"accessibility":0,"pos":{"y":0.073749587712587,"x":0.6033316034037853},"name":"Dead End","group":"South"},{"accessibility":0,"pos":{"y":0.27308940026265405,"x":0.07851844931968055},"name":"Compartment","group":"North"},{"accessibility":0,"pos":{"y":0.07980687483427412,"x":0.4715700030167122},"name":"Circuit Heap","group":""},{"accessibility":0,"pos":{"y":0.7962187425901781,"x":0.6332012882372955},"name":"Escalator","group":"South"}]}]])
MAPINFO.efgm_concrete = util.JSONToTable([[{"locations":[{"loot":4,"name":"Workshop","pos":{"y":0.20613096974227027,"x":0.3921701413378798}},{"loot":3,"name":"Hotel","pos":{"y":0.46439041380715484,"x":0.9081923486479963}},{"loot":2,"name":"Residential","pos":{"y":0.4441082585141011,"x":0.3698958014539899}},{"loot":5,"name":"Storage Building","pos":{"y":0.4741934555321308,"x":0.5882237767428884}},{"loot":3,"name":"Old Warehouse","pos":{"y":0.6874941220307462,"x":0.44599979605728046}},{"loot":1,"name":"Electrical","pos":{"y":0.3247293687401135,"x":0.49051912581806073}},{"loot":1,"name":"Fountain","pos":{"y":0.5522797534103878,"x":0.6984423147413662}},{"loot":1,"name":"Field","pos":{"y":0.18924691724947484,"x":0.9034950163335387}},{"loot":2,"name":"Crackshot","pos":{"y":0.41632339346637615,"x":0.1657967166393019}},{"loot":1,"name":"Railway","pos":{"y":0.395431085810772,"x":0.029909342277913198}},{"loot":1,"name":"Chemical","pos":{"y":0.09837019756878101,"x":0.17594778299263714}},{"loot":2,"name":"Library","pos":{"y":0.08724880749692643,"x":0.5320567090625494}},{"loot":3,"name":"Watchtower","pos":{"y":0.6858884514033794,"x":0.9383555172407638}},{"loot":2,"name":"Sheds","pos":{"y":0.36805017616514946,"x":0.7244290446059044}},{"loot":2,"name":"Auto Shop","pos":{"y":0.8794985254716552,"x":0.42186926118306634}},{"loot":4,"name":"Big Red","pos":{"y":0.5739140523896451,"x":0.40423540877498687}}],"keys":[{"name":"Workshop Office Key","pos":{"y":0.24196277742666525,"x":0.372706774476599}},{"name":"Workshop Armory Key","pos":{"y":0.1689470183716717,"x":0.46163058306606475}},{"name":"Hotel Marked Room Key","pos":{"y":0.4839964972571068,"x":0.928674305909012}},{"name":"Storage Building Access Keycard","pos":{"y":0.49058988955752303,"x":0.6102730527009685}},{"name":"Old Warehouse Admin Key","pos":{"y":0.7045649360690664,"x":0.5406657405638126}},{"name":"Suspicious Keycard With Brown Marking","pos":{"y":0.6108123733099293,"x":0.6307098768028492}},{"name":"Hotel Maintenance Key","pos":{"y":0.4752075632967835,"x":0.9717670270665988}},{"name":"Railway Checkpoint Key","pos":{"y":0.6178587221912617,"x":0.16293006003284605}},{"name":"Big Red Meeting Room Key","pos":{"y":0.5898017407025373,"x":0.2982002699527192}}],"offset":{"y":0.330528188873,"x":0.55737149547673},"factor":{"y":-0.000084508980387724,"x":0.00011601218689526},"spawns":[{"type":0,"pos":{"y":0.09593125931667817,"x":0.08589796793439342},"group":"North"},{"type":0,"pos":{"y":0.10472019327700147,"x":0.45528077100890124},"group":"North"},{"type":0,"pos":{"y":0.7189695082818142,"x":0.6383035697718598},"group":"South"},{"type":0,"pos":{"y":0.7702165710191116,"x":0.3829900964223921},"group":"South"},{"type":0,"pos":{"y":0.3367016036753465,"x":0.5281895570968622},"group":"North"},{"type":0,"pos":{"y":0.2216806221336115,"x":0.4627055509701979},"group":"North"},{"type":0,"pos":{"y":0.3764038042849673,"x":0.720252605877675},"group":"North"},{"type":0,"pos":{"y":0.34897616169930823,"x":0.40619137254664367},"group":"North"},{"type":0,"pos":{"y":0.19886742700436044,"x":0.78338180146386},"group":"North"},{"type":0,"pos":{"y":0.9011328244509125,"x":0.45528077100890124},"group":"South"},{"type":0,"pos":{"y":0.1872009581354201,"x":0.6427564650316414},"group":"North"},{"type":0,"pos":{"y":0.7091284210100035,"x":0.08218557795374509},"group":"South"},{"type":0,"pos":{"y":0.9795571582507203,"x":0.7132918746639595},"group":"South"},{"type":0,"pos":{"y":0.28525165671519,"x":0.14990885330865356},"group":"North"},{"type":0,"pos":{"y":0.1358194980596839,"x":0.39588253131852813},"group":"North"},{"type":0,"pos":{"y":0.716544909322038,"x":0.7903239667624121},"group":"North"},{"type":2,"pos":{"y":0.8907796490704047,"x":0.1867694031850215},"group":"South"},{"type":2,"pos":{"y":0.7028316766881065,"x":0.96880987755557},"group":"South"},{"type":2,"pos":{"y":0.5892515864149301,"x":0.6903806290069461},"group":"South"},{"type":2,"pos":{"y":0.6144783629757526,"x":0.3420528765991275},"group":"South"},{"type":2,"pos":{"y":0.48737685647261575,"x":0.19077298488770844},"group":"North"},{"type":2,"pos":{"y":0.27779458511106025,"x":0.24181834712162287},"group":"North"},{"type":2,"pos":{"y":0.3670360684004968,"x":0.3457652665797758},"group":"North"},{"type":2,"pos":{"y":0.3927267984383649,"x":0.9471724434448037},"group":"North"}],"extracts":[{"accessibility":1,"pos":{"y":0.7280584326168538,"x":0.030212118224668627},"name":"Railway to Belmont","group":"South"},{"accessibility":1,"pos":{"y":0.7523970189685183,"x":0.19355727737319467},"name":"Sewer Manhole","group":"North"},{"accessibility":0,"pos":{"y":0.15677772519583946,"x":0.6696712923913417},"name":"Getaway Driver","group":""},{"accessibility":1,"pos":{"y":0.30889388989374267,"x":0.20840683729578796},"name":"USEC Helicopter","group":""},{"accessibility":2,"pos":{"y":0.9822614456231276,"x":0.28265463690875436},"name":"Dealership Passage","group":"North"},{"accessibility":2,"pos":{"y":0.07362088849431903,"x":0.052486458108558565},"name":"Railroad Blockage","group":"South"}]}]])
MAPINFO.efgm_factory = util.JSONToTable([[{"locations":[{"loot":4,"name":"Offices","pos":{"y":0.3879736126887703,"x":0.18247025868150665}},{"loot":3,"name":"Medical","pos":{"y":0.6692574990681457,"x":0.7378491581151914}},{"loot":1,"name":"Forklift","pos":{"y":0.05904435825942167,"x":0.8092903336420536}},{"loot":1,"name":"Glass","pos":{"y":0.05101592518075859,"x":0.5454495848344723}},{"loot":2,"name":"Servers","pos":{"y":0.696299363066474,"x":0.2660278387173449}},{"loot":2,"name":"Skybridge","pos":{"y":0.29997701602318727,"x":0.30137688115613076}},{"loot":3,"name":"Boilers","pos":{"y":0.5187049301952024,"x":0.4041688134367119}}],"keys":[{"name":"Office Marked Room Key","pos":{"y":0.33576728334138506,"x":0.20330572266480962}},{"name":"Servers Key","pos":{"y":0.7114063440034154,"x":0.33123324442450364}},{"name":"Cellars Key","pos":{"y":0.07986017996644468,"x":0.7233791101576093}}],"offset":{"y":0.94368634114037,"x":0.39968840740003},"factor":{"y":-0.00015964260971612,"x":0.00015487593433377},"spawns":[{"type":0,"pos":{"y":0.8795100120344898,"x":0.08126348640979886},"group":"north"},{"type":0,"pos":{"y":0.6268803761140509,"x":0.03761168919322283},"group":"north"},{"type":0,"pos":{"y":0.04681415975520786,"x":0.5025260277976533},"group":"south"},{"type":0,"pos":{"y":0.03148846922246029,"x":0.9287445990841883},"group":"south"},{"type":0,"pos":{"y":0.23440217712193745,"x":0.7805561970077284},"group":"south"},{"type":0,"pos":{"y":0.2736902389631731,"x":0.7598152239814323},"group":"south"},{"type":0,"pos":{"y":0.33822576394091464,"x":0.48680457019097195},"group":"south"},{"type":0,"pos":{"y":0.29713377179008393,"x":0.6115586855686274},"group":"south"},{"type":0,"pos":{"y":0.4299564230738958,"x":0.4777458783042501},"group":"north"},{"type":0,"pos":{"y":0.6291903999996136,"x":0.740415462934324},"group":"south"},{"type":0,"pos":{"y":0.3635450974319899,"x":0.8221899562625545},"group":"south"},{"type":0,"pos":{"y":0.1464311482180667,"x":0.44800969891216624},"group":"north"},{"type":0,"pos":{"y":0.12454732680610203,"x":0.30317437404806},"group":"north"},{"type":0,"pos":{"y":0.46573710248145145,"x":0.46384731346959784},"group":"north"},{"type":0,"pos":{"y":0.664522493807431,"x":0.2008277077154693},"group":"north"},{"type":0,"pos":{"y":0.7620130512834254,"x":0.27950468235702447},"group":"north"},{"type":0,"pos":{"y":0.5454355183872568,"x":0.7394831067847141},"group":"south"},{"type":0,"pos":{"y":0.0774655408207029,"x":0.5942125809232451},"group":"north"},{"type":0,"pos":{"y":0.33848759964698716,"x":0.1594123288216648},"group":"north"},{"type":0,"pos":{"y":0.7742736115046728,"x":0.42899248397513906},"group":"north"},{"type":0,"pos":{"y":0.7138009831491572,"x":0.005684030454919109},"group":"north"},{"type":0,"pos":{"y":0.6627153480399988,"x":0.880423307572052},"group":"south"},{"type":0,"pos":{"y":0.12248475676064874,"x":0.7639566049530571},"group":"south"}],"extracts":[{"accessibility":1,"pos":{"y":0.6700589080869404,"x":0.9126375019134763},"name":"Med Tent Gate","group":"north"},{"accessibility":1,"pos":{"y":0.9783287874487681,"x":0.08621951630847952},"name":"Gate 0","group":"south"},{"accessibility":0,"pos":{"y":0.1259968941744033,"x":0.0200874923479597},"name":"Gate 3","group":""},{"accessibility":2,"pos":{"y":0.6577664271387991,"x":0.17480855074739593},"name":"Bunker Door","group":""}]}]])

MAPNAMES = {}
MAPNAMES["efgm_belmont"] = "Belmont"
MAPNAMES["efgm_concrete"] = "Concrete"
MAPNAMES["efgm_factory"] = "Factory"

function WorldToMapSpace(position, map)
	local mapInfo = MAPINFO[map or game.GetMap()]
	if mapInfo == nil then return end

	local adjustedPos = {}
	adjustedPos.x = (position.x * mapInfo.factor.x) + mapInfo.offset.x
	adjustedPos.y = (position.y * mapInfo.factor.y) + mapInfo.offset.y

	return adjustedPos
end